<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>DrumScript</title>
    <link rel="stylesheet" href="css/kit1.css">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="icon-192x192.png" sizes="192x192" type="image/png">
    <link rel="apple-touch-icon" href="icon-192x192.png">
    <style>
        .container {
            text-align: center; /* Zorgt ervoor dat inline-block elementen gecentreerd worden */
        }
        .button {
            display: inline-block; /* Verandert de knop in een inline-blok element */
        }
    </style>
</head>
<body>
    <footer>
        <div class="container">
            <nav class="mobile-menu">
                <input type="checkbox" id="menu-toggle">
                <label for="menu-toggle" class="menu-icon">&#9776;</label>
                <ul class="menu-items">
                    <li><a href="./index.html">refresh</a></li>
                    <li class="dropdown">
                        <button class="dropbtn">drumpads</button>
                        <div class="dropdown-content">
                            <a href="#" onclick="chooseKit('kit5.js'); return false;">kit 5</a>
                            <a href="#" onclick="chooseKit('kit4.js'); return false;">kit 4</a>
                            <a href="#" onclick="chooseKit('kit3.js'); return false;">kit 3</a>
                            <a href="#" onclick="chooseKit('kit2.js'); return false;">kit 2</a>
                            <a href="#" onclick="chooseKit('kit1.js'); return false;">kit 1</a>
                        </div>
                    </li>
                    <div class="dropdown">
                        <button class="dropbtn">sequencers</button>
                        <div class="dropdown-content">
                            <li><a href="seq2.html">seq 2</a></li>
                            <li><a href="seqx.html">beta</a></li>
                            <li><a href="seq.html">seq</a></li>
                            <li><a href="songmode.html">song mode</a></li>
                        </div>
                    </div>
                </ul>
            </nav>
            <p>DrumScript Â© Joppe Sikken, 2024.</p>
        </div>
    </footer>
    <div id="drum-kit2">
        <div class="key" data-key="3"><span>Hi-Hat-Closed</span><audio id="hihatclosed" src="kit1/hihatclosedwav.m4a" preload="auto" data-key="3"></audio></div>
        <div class="key" data-key="4"><span>Hi-Hat-Open</span><audio id="hihatopen" src="kit1/hihatopenwav.m4a" preload="auto" data-key="4"></audio></div>
    </div>
    <div id="drum-kit">
        <div class="key" data-key="1"><span>Kick</span><audio id="kick" src="kit1/kickwav.m4a" preload="auto" data-key="1"></audio></div>
        <div class="key" data-key="2"><span>Snare</span><audio id="snare" src="kit1/snarewav.m4a" preload="auto" data-key="2"></audio></div>
        <div class="key" data-key="5"><span>Tom 1</span><audio id="hitom" src="kit1/hitomwav.m4a" preload="auto" data-key="5"></audio></div>
        <div class="key" data-key="6"><span>Tom 2</span><audio id="midtom" src="kit1/midtomwav.m4a" preload="auto" data-key="6"></audio></div>
        <div class="key" data-key="7"><span>Crash</span><audio id="crash" src="kit1/crashwav.m4a" preload="auto" data-key="7"></audio></div>
        <div class="key" data-key="8"><span>Claps</span><audio id="clap" src="kit1/clapwav.m4a" preload="auto" data-key="8"></audio></div>
        <div class="key" data-key="9"><span>FX</span><audio id="fx" src="kit1/gunshotwav.m4a" preload="auto" data-key="9"></audio></div>
    </div>
    <script src="js/kit1.js" id="kit-script"></script>
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('/service-worker.js')
            .then(function(registration) {
                console.log('Service Worker registered with scope:', registration.scope);
            }).catch(function(error) {
                console.log('Service Worker registration failed:', error);
            });
        }

        function addToHomeScreen() {
            if ('navigator' in window && 'standalone' in window.navigator && !window.navigator.standalone) {
                alert('Druk op het deel-icoon en selecteer "Zet op beginscherm".');
            } else if ('matchMedia' in window && window.matchMedia('(display-mode: browser)').matches) {
                alert('Druk op het menu-icoon en selecteer "Toevoegen aan startscherm".');
            } else {
                alert('Uw apparaat ondersteunt deze functie niet.');
            }
        }

        function checkOrientation() {
            if (window.innerHeight < window.innerWidth) {
                document.getElementById('landscape-warning').style.display = 'flex';
                document.getElementById('content').style.display = 'none';
            } else {
                document.getElementById('landscape-warning').style.display = 'none';
                document.getElementById('content').style.display = 'block';
            }
        }

        window.addEventListener('resize', checkOrientation);
        window.addEventListener('load', checkOrientation);

        function chooseKit(scriptSrc) {
            console.log("Changing kit to: " + scriptSrc);
            var oldScript = document.getElementById('kit-script');
            if (oldScript) {
                oldScript.remove();
            }

            var newScript = document.createElement('script');
            newScript.id = 'kit-script';
            newScript.src = 'js/' + scriptSrc;
            newScript.onload = function() {
                console.log("New script loaded: " + scriptSrc);
                updateAudioSources(scriptSrc.replace('.js', ''));
            };
            document.body.appendChild(newScript);
        }

        function updateAudioSources(kitName) {
            console.log("Updating audio sources for kit: " + kitName);
            var audioElements = document.getElementsByTagName('audio');
            for (var i = 0; i < audioElements.length; i++) {
                var audio = audioElements[i];
                var oldSrc = audio.src;
                var newSrc = oldSrc.replace(/kit\d+/, kitName);
                console.log("Changing audio source from " + oldSrc + " to " + newSrc);
                audio.src = newSrc;
            }
        }
    </script>
</body>
</html>
